var Users=(function(){function $U(task){return JsUrl('admin/users/'+task);}
function callback(res){if(res.ok()){if(target){target=target.close();}
_backlist.refresh();}
(target||_backlist).notify(res.message);}
let _backlist,target;let mo={size:'large',onLoad:function(){target=this;JsForm({btn:this}).request($U('save'),callback);},};let _controls={create:{modalOptions:mo,},edit:{numRows:'1',modalOptions:mo,},status:{data:'get-data',onSuccess:callback,},confirm_delete:{modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('delete'),callback);},},},};JsFelem.implement({roles:function(el,f){JsCollection(el,{url:JsUrl('admin/users/roles')});},});return{List:function(){_backlist=Backlist().url($U).controls(_controls).allowHistory().load();}};})();var UsersRoles=(function(){function $U(task,output){return JsUrl('admin/users.roles/'+task,false,output);}
return{List:function(){function callback(res){if(res.ok()){if(target){target=target.close();}
_backlist.refresh();}
(target||_backlist).notify(res.message);}
let target;let mo={onLoad:function(){target=this;JsForm({btn:this}).request($U('save'),callback);},};let _backlist=Backlist().url($U).controls({create:{modalOptions:mo,},edit:{numRows:1,modalOptions:mo,},confirm_delete:{modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('delete'),callback);},},},}).allowHistory().load();},};})();let UsersLabels=(function(){function $U(task,output){return JsUrl('admin/users.labels/'+task,false,output);}
return{List:function(){function callback(res){if(res.ok()){if(target){target=target.close();}
_backlist.refresh();}
(target||_backlist).notify(res.message);}
let target;let mo={onLoad:function(){target=this;JsForm({btn:this}).request($U('save'),callback);},};let _backlist=Backlist().url($U).controls({create:{onlyRows:'editable',modalOptions:mo,},edit:{onlyRows:'editable',modalOptions:mo,},confirm_delete:{onlyRows:'editable',modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('delete'),callback);},},},}).allowHistory().load();},};})();var Permissions=(function(){function $U(task){return JsUrl('admin/users.permissions/'+task);}
return{List:function(){function callback(res){if(res.ok()){_backlist.refresh();}
_backlist.notify(res.message);};let _backlist=Backlist().url($U).controls({status:{onSuccess:callback,},}).allowHistory().load();},};})();let UsersActivities=(function(){function $U(task){return JsUrl('admin/users.activities/'+task);}
return{List:function(){function callback(res){if(res.ok()){if(target){target=target.close();}
_backlist.refresh();}
(target||_backlist).notify(res.message);}
let target;let _backlist=Backlist().url($U).controls({confirm_delete:{modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('delete'),callback);},},},}).allowHistory().load();},};})();