let AdminAssets=(function(){function $U(task){return JsUrl('admin/assets/'+task,false);}
function callback(res){if(res.ok()){if(target){target=target.close();}
_backlist.refresh();}
(target||_backlist).notify(res.message);}
let _backlist,target;let mo={size:'large',onLoad:function(){target=this;JsForm().request($U('save'),callback);JsTabs('#assets-tabs',{'onSelect':function(){const el=this.getContainer().querySelector('textarea');if(typeof el.autoGrow==='function'){el.autoGrow();}}}).select();},};let _controls={create:{modalOptions:mo,},edit:{numRows:'1',modalOptions:mo,},cwu:{onSuccess:callback,},inspect:{onSuccess:callback,},confirm_delete:{modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('delete'),callback);},},},confirm_compile:{numRows:'+',modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('compile'),callback);},},},confirm_options:{numRows:'*',modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('options'),callback);},},},};return{List:function(){if(_backlist){return _backlist;}
_backlist=Backlist().url($U).controls(_controls).allowHistory().load();},setControls:function(controls){for(let i in controls){_controls[i]=controls[i];}},};})();let AssetsThemes=(function(){function $U(task){return JsUrl('admin/assets.themes/'+task);}
function callback(res){if(res.ok()){if(target){target=target.close();}
_backlist.refresh();}
(target||_backlist).notify(res.message);}
let _backlist,target;let _controls={create:{modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('save'),callback);},},},copy:{numRows:'1',modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('save'),callback);},},},confirm_delete:{numRows:'1',modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('delete'),callback);},},},confirm_compile:{numRows:'1',modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('compile'),callback);},},},confirm_select:{numRows:'1',modalOptions:{onLoad:function(){target=this;JsForm({btn:this}).request($U('select'),callback);},},},};return{List:function(){_backlist=Backlist().url($U).controls(_controls).allowHistory().load();},setControls:function(controls){for(let i in controls){_controls[i]=controls[i];}},};})();var AssetsVariables=(function(){function $U(task){return JsUrl('admin/assets.variables/'+task);}
function callback(res){if(res.ok()){if(target){target=target.close();}
_backlist.refresh();}
(target||_backlist).notify(res.message);}
var target;var _controls={edit:{numRows:'1',modalOptions:{size:'large',onLoad:function(){target=this;JsForm({btn:this}).request($U('update'),callback);},},},};return{List:function(key){_backlist=Backlist().url($U).controls(_controls).data({key:key}).allowHistory().load();},setControls:function(controls){for(var i in controls){_controls[i]=controls[i];}},};})();